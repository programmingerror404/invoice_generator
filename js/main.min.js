function ValidateEmail(t){if(""!=t.value){return t.value.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)?(t.focus(),!0):(alert("You have entered an invalid email address!"),t.focus(),!1)}}function checksum(t){let e=36;return Array.from(t).reduce((t,a,n,i)=>(p=(p=(a.charCodeAt(0)<65?parseInt(a):a.charCodeAt(0)-55)*(n%2+1))>e?p-e+1:p,n<14?t+p:a==((e-=t%e)<10?e:String.fromCharCode(e+55))),0)}if($(document).ready(function(){$.uploadPreview({input_field:"#image-upload",preview_box:"#image-preview",label_field:"#image-label",label_default:"Upload Logo",label_selected:"Change Logo",no_label:!1}),$("#to_msg").summernote({placeholder:"Enter the Custom Message",tabsize:2,height:200}),$("input").on("cut copy paste drop",function(t){return!1}),$('[data-toggle="datepicker"]').datepicker({autoPick:!0,format:"dd-mm-yyyy"}),$("#c_phone").bind("keyup paste",function(){this.value=this.value.replace(/[^0-9]/g,"")}),$("input").prop("autocomplete","nope")}),$("#sections .section"))var sectionsCount=$("#sections .section").length;let sum=0;function removeRow(t){if(1==$("#sections .section").length)return alert("Add More Rows to remove others"),!1;$("#sections .section:first").find("a").prop("disabled",!0),$("#row-"+t).remove();var e=1;return $("#sections .section").find("td:first").each(function(){$(this).html(e++)}),updateFinalAmount(),!1}function updateTotal(t,e){updateSubTotalAmount(t,e.split("-")[0],e.split("-")[1])}function updateQty(t,e){updateSubTotalAmount(t,e.split("-")[0],e.split("-")[1])}function alertData(t,e){"keyup"==t.type&&alert(e)}function updateGST(t,e){if(""!=t){var a=$("#sgst-"+e.split("-")[1]).val(),n=$("#cgst-"+e.split("-")[1]).val();if(!(t<=28))return $("#sgst-"+e.split("-")[1]).val(""),$("#cgst-"+e.split("-")[1]).val(""),alertData(event,e.split("-")[0]+" cannot be greater than 28%"),!1;"sgst"==e.split("-")[0]&&0!==t&&$("#cgst-"+e.split("-")[1]).val(t),"cgst"==e.split("-")[0]&&0!=n&&0!=a&&$("#sgst-"+e.split("-")[1]).val(t),updateSubTotalAmount(t,e.split("-")[0],e.split("-")[1])}}$("body").on("click",".addsection",function(){var t=$("#sections .section:first").clone(),e=$("#sections .section").length,a=parseInt(e)+1;t.prop("id","row-"+a),t.find("td:first").html(a),sectionsCount++,t.find("a").attr("onclick","removeRow("+a+")"),t.find("a").attr("id","rem-"+a);t.find(":input").each(function(){var t=this.id.split("-")[0]+"-"+sectionsCount;$(this).prev().attr("for",t),this.id=t,this.value="","quantity"==this.id.split("-")[0]&&(this.value=1)}).end().appendTo("#sections");return!1});var qty=0,amt=0,sgst_per=0,cgst_per=0,full_tax=0;function updateSubTotalAmount(t,e,a){if("price"==e&&(amt=t,qty=parseInt($("#quantity-"+a).val())),"quantity"==e&&(qty=t,amt=""!=$("#price-"+a).val()?parseFloat($("#price-"+a).val()):0),0==amt||0==qty)return alertData("Please add quantity and price"),!1;sgst_per=$("#sgst-"+a).val(),cgst_per=$("#cgst-"+a).val(),""!=sgst_per&&""!=cgst_per||(sgst_per=0,cgst_per=0);let n=parseFloat(amt*qty);var i=(parseFloat(sgst_per)+parseFloat(cgst_per))/100;let o=parseFloat(amt*qty)*i,s=parseFloat(n)+parseFloat(o);$("#subtotal-"+a).val(s.toFixed(2)),updateFinalAmount()}function updatecharges(t,e){updateFinalAmount()}function updatedisc(t,e){updateFinalAmount()}function updateFinalAmount(){var t=$('input[name="subtotal[]"]').map(function(){return this.value||0}).get(),e=$('input[name="price[]"]').map(function(){return this.value||0}).get(),a=$('input[name="quantity[]"]').map(function(){return this.value||0}).get(),n=t.map(function(t,n){return t-e[n]*a[n]});sum=t.reduce(function(t,e){return parseFloat(t)+parseFloat(e)},0),tax_total=n.reduce(function(t,e){return parseFloat(t)+parseFloat(e)},0);let i=parseFloat(sum)||0,o=$("#discount").val();""==o&&(o=0);let s=parseFloat(o),l=parseFloat(i-s),r=parseFloat(tax_total),u=parseFloat(l),p=$("#charges").val();""==p&&(p=0);let c=parseFloat(p),d=parseFloat(u+c);return $("#subtotalbdisc").val(i.toFixed(2)),$("#subtotalz").val(l.toFixed(2)),$("#taxtotal").val(r.toFixed(2)),$("#totalbalance").val(d.toFixed(2)),!1}